# Configuration

Setting up advanced features like Speaker Diarization.

## Note on Local Execution

While you need to accept user agreements on Hugging Face to download the models, the actual diarization process happens entirely **locally on your machine**. No audio data is sent to Hugging Face or any third party.

## Speaker Diarization Setup

Scriberr uses [pyannote.audio](https://github.com/pyannote/pyannote-audio) for speaker diarization. To use this feature, you need to obtain an access token from Hugging Face.

### Step 1: Hugging Face Account

If you don't have one, create an account on [Hugging Face](https://huggingface.co/join).

### Step 2: Accept User Agreements

Visit the following model pages and accept the user agreements for each:

*   [pyannote/speaker-diarization-3.0](https://huggingface.co/pyannote/speaker-diarization-3.0)
*   [pyannote/speaker-diarization](https://huggingface.co/pyannote/speaker-diarization)
*   [pyannote/speaker-diarization-3.1](https://huggingface.co/pyannote/speaker-diarization-3.1)
*   [pyannote/segmentation-3.0](https://huggingface.co/pyannote/segmentation-3.0)

### Step 3: Create Access Token

You will need to get a Hugging Face access token.
1. Go to your Hugging Face [Settings](https://huggingface.co/settings/token).
2. Create a new token with at least `read` access.
3. Configure the token using one of these methods:

**Option A: Environment Variable (Recommended for Docker)**
Set the `HF_TOKEN` environment variable. For Docker users, add `-e HF_TOKEN=your_token_here` to your docker run command or add it to your docker-compose.yml.

**Option B: UI Input**
Enter the token directly in the Scriberr UI under Transcription Profile settings when configuring diarization.

> **Note:** If the `HF_TOKEN` environment variable is set, you don't need to enter the token in the UI - it will be used automatically as a fallback.

After setting up the token, you can enable Speaker Diarization in your Transcription Profiles or Advanced settings within Scriberr.
