import{r as c,j as e,i as Be,d as Qa,k as ee,W as Xa,c as he,f as Za,l as z,m as er,n as ar,D as rr,o as qe,p as tr,e as sr,O as ir,q as ze,u as nr,P as X,s as Ie,t as lr,v as Ke,w as or,x as dr,y as cr,z as gr,B as ur,E as mr}from"./ui-vendor-rA8IexKS.js";import{I as U,B as O,u as Ee,C as hr,e as xr,L as b,a as pr,S as yr,h as br,c as V,l as Ye}from"./index-hSqt8rb2.js";import{D as De,c as Re,d as Ae,e as Z,u as fr,f as Ge,R as vr,I as jr,T as We,S as re}from"./textarea-Bups9Y6L.js";import{D as xe,a as pe,b as ye,c as be,d as fe,u as Je,f as kr,g as Nr,e as wr}from"./index-DHJEQtTr.js";import{N as Qe,f as _r,a1 as ce,w as Cr,v as Sr,a2 as Dr,L as Rr,U as Me,a3 as Xe,F as Ar,b as Tr,d as Ze,c as Pr,a4 as ea,p as Fr,G as zr,O as Ir,V as Er,q as Mr,a5 as Or,a6 as Vr,a7 as Lr,I as k}from"./lucide-vendor-DI6dXaZX.js";import{S as K,a as Y,b as G,c as J,d as F,e as aa}from"./select-CtZYfv8r.js";function _e(r,a,t,s){return new(t||(t=Promise))((function(l,o){function d(x){try{h(s.next(x))}catch(i){o(i)}}function g(x){try{h(s.throw(x))}catch(i){o(i)}}function h(x){var i;x.done?l(x.value):(i=x.value,i instanceof t?i:new t((function(m){m(i)}))).then(d,g)}h((s=s.apply(r,[])).next())}))}class ra{constructor(){this.listeners={}}on(a,t,s){if(this.listeners[a]||(this.listeners[a]=new Set),this.listeners[a].add(t),s?.once){const l=()=>{this.un(a,l),this.un(a,t)};return this.on(a,l),l}return()=>this.un(a,t)}un(a,t){var s;(s=this.listeners[a])===null||s===void 0||s.delete(t)}once(a,t){return this.on(a,t,{once:!0})}unAll(){this.listeners={}}emit(a,...t){this.listeners[a]&&this.listeners[a].forEach((s=>s(...t)))}}class Hr extends ra{constructor(a){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=a}onInit(){}_init(a){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=a,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((a=>a())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}class Wr extends ra{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",(()=>{requestAnimationFrame((()=>{this.emit("tick")}))})),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const $r=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class ge extends Hr{constructor(a){var t,s,l,o,d,g;super(Object.assign(Object.assign({},a),{audioBitsPerSecond:(t=a.audioBitsPerSecond)!==null&&t!==void 0?t:128e3,scrollingWaveform:(s=a.scrollingWaveform)!==null&&s!==void 0&&s,scrollingWaveformWindow:(l=a.scrollingWaveformWindow)!==null&&l!==void 0?l:5,continuousWaveform:(o=a.continuousWaveform)!==null&&o!==void 0&&o,renderRecordedAudio:(d=a.renderRecordedAudio)===null||d===void 0||d,mediaRecorderTimeslice:(g=a.mediaRecorderTimeslice)!==null&&g!==void 0?g:void 0})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Wr,this.subscriptions.push(this.timer.on("tick",(()=>{const h=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+h,this.emit("record-progress",this.duration)})))}static create(a){return new ge(a||{})}renderMicStream(a){var t;const s=new AudioContext,l=s.createMediaStreamSource(a),o=s.createAnalyser();l.connect(o),this.options.continuousWaveform&&(o.fftSize=32);const d=o.frequencyBinCount,g=new Float32Array(d);let h=0;this.wavesurfer&&((t=this.originalOptions)!==null&&t!==void 0||(this.originalOptions=Object.assign({},this.wavesurfer.options)),this.wavesurfer.options.interact=!1,this.options.scrollingWaveform&&(this.wavesurfer.options.cursorWidth=0));const x=setInterval((()=>{var i,m,y,S;if(!this.isWaveformPaused){if(o.getFloatTimeDomainData(g),this.options.scrollingWaveform){const p=Math.floor((this.options.scrollingWaveformWindow||0)*s.sampleRate),f=Math.min(p,this.dataWindow?this.dataWindow.length+d:d),u=new Float32Array(p);if(this.dataWindow){const D=Math.max(0,p-this.dataWindow.length);u.set(this.dataWindow.slice(-f+d),D)}u.set(g,p-d),this.dataWindow=u}else if(this.options.continuousWaveform){if(!this.dataWindow){const f=this.options.continuousWaveformDuration?Math.round(100*this.options.continuousWaveformDuration):((m=(i=this.wavesurfer)===null||i===void 0?void 0:i.getWidth())!==null&&m!==void 0?m:0)*window.devicePixelRatio;this.dataWindow=new Float32Array(f)}let p=0;for(let f=0;f<d;f++){const u=Math.abs(g[f]);u>p&&(p=u)}if(h+1>this.dataWindow.length){const f=new Float32Array(2*this.dataWindow.length);f.set(this.dataWindow,0),this.dataWindow=f}this.dataWindow[h]=p,h++}else this.dataWindow=g;if(this.wavesurfer){const p=((S=(y=this.dataWindow)===null||y===void 0?void 0:y.length)!==null&&S!==void 0?S:0)/100;this.wavesurfer.load("",[this.dataWindow],this.options.scrollingWaveform?this.options.scrollingWaveformWindow:p).then((()=>{this.wavesurfer&&this.options.continuousWaveform&&(this.wavesurfer.setTime(this.getDuration()/1e3),this.wavesurfer.options.minPxPerSec||this.wavesurfer.setOptions({minPxPerSec:this.wavesurfer.getWidth()/this.wavesurfer.getDuration()}))})).catch((f=>{console.error("Error rendering real-time recording data:",f)}))}}}),10);return{onDestroy:()=>{clearInterval(x),l?.disconnect(),s?.close()},onEnd:()=>{this.isWaveformPaused=!0,clearInterval(x),this.stopMic()}}}startMic(a){return _e(this,void 0,void 0,(function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({audio:a==null||a})}catch(o){throw new Error("Error accessing the microphone: "+o.message)}const{onDestroy:s,onEnd:l}=this.renderMicStream(t);return this.subscriptions.push(this.once("destroy",s)),this.subscriptions.push(this.once("record-end",l)),this.stream=t,t}))}stopMic(){this.stream&&(this.stream.getTracks().forEach((a=>a.stop())),this.stream=null,this.mediaRecorder=null)}startRecording(a){return _e(this,void 0,void 0,(function*(){const t=this.stream||(yield this.startMic(a));this.dataWindow=null;const s=this.mediaRecorder||new MediaRecorder(t,{mimeType:this.options.mimeType||$r.find((d=>MediaRecorder.isTypeSupported(d))),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=s,this.stopRecording();const l=[];s.ondataavailable=d=>{d.data.size>0&&l.push(d.data),this.emit("record-data-available",d.data)};const o=d=>{var g;const h=new Blob(l,{type:s.mimeType});this.emit(d,h),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(g=this.wavesurfer)===null||g===void 0||g.load(URL.createObjectURL(h)))};s.onpause=()=>o("record-pause"),s.onstop=()=>o("record-end"),s.start(this.options.mediaRecorderTimeslice),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")}))}getDuration(){return this.duration}isRecording(){var a;return((a=this.mediaRecorder)===null||a===void 0?void 0:a.state)==="recording"}isPaused(){var a;return((a=this.mediaRecorder)===null||a===void 0?void 0:a.state)==="paused"}isActive(){var a;return((a=this.mediaRecorder)===null||a===void 0?void 0:a.state)!=="inactive"}stopRecording(){var a;this.isActive()&&((a=this.mediaRecorder)===null||a===void 0||a.stop(),this.timer.stop())}pauseRecording(){var a,t;this.isRecording()&&(this.isWaveformPaused=!0,(a=this.mediaRecorder)===null||a===void 0||a.requestData(),(t=this.mediaRecorder)===null||t===void 0||t.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var a;this.isPaused()&&(this.isWaveformPaused=!1,(a=this.mediaRecorder)===null||a===void 0||a.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return _e(this,void 0,void 0,(function*(){return navigator.mediaDevices.enumerateDevices().then((a=>a.filter((t=>t.kind==="audioinput"))))}))}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.setOptions(this.originalOptions),delete this.originalOptions)}}function Ur({isOpen:r,onClose:a,onRecordingComplete:t}){const[s,l]=c.useState(null),[o,d]=c.useState(null),[g,h]=c.useState(!1),[x,i]=c.useState(!1),[m,y]=c.useState(0),[S,p]=c.useState(""),[f,u]=c.useState([]),[D,n]=c.useState(""),[C,T]=c.useState(null),[I,W]=c.useState(!1),B=c.useRef(null);c.useEffect(()=>{if(!r)return;let R=null,$=null;const q=setTimeout(async()=>{try{R=await navigator.mediaDevices.getUserMedia({audio:!0});const M=await ge.getAvailableAudioDevices();if(u(M),M.length>0){const le=M.some(Ja=>Ja.deviceId===D);(!D||!le)&&n(M[0].deviceId)}if(!B.current)return;$=fr.create({container:B.current,waveColor:"rgb(168, 85, 247)",progressColor:"rgb(147, 51, 234)",height:80,normalize:!0,interact:!1}),l($);const se=$.registerPlugin(ge.create({renderRecordedAudio:!1,scrollingWaveform:!0,continuousWaveform:!0,continuousWaveformDuration:30,mediaRecorderTimeslice:1e3}));se.on("record-end",le=>{T(le),h(!1),i(!1)}),se.on("record-progress",le=>{y(le)}),d(se)}catch(M){console.error("Failed to initialize recorder:",M)}finally{R&&R.getTracks().forEach(M=>M.stop())}},100);return()=>{clearTimeout(q),$&&$.destroy(),R&&R.getTracks().forEach(M=>M.stop())}},[r]),c.useEffect(()=>{const R=document.title,$=q=>{if(g)return q.preventDefault(),q.returnValue="Recording in progress. Are you sure you want to leave?",q.returnValue},Q=()=>{};return g?(document.title=`ðŸ”´ Recording... - ${R}`,window.addEventListener("beforeunload",$),document.addEventListener("visibilitychange",Q)):document.title=R,()=>{document.title=R,window.removeEventListener("beforeunload",$),document.removeEventListener("visibilitychange",Q)}},[g]);const te=async()=>{if(!o){alert("Recorder not initialized. Please close and reopen the dialog.");return}try{const R={deviceId:D?{exact:D}:void 0,echoCancellation:!1,noiseSuppression:!1,autoGainControl:!0,channelCount:1};await o.startRecording(R),h(!0),i(!1),y(0),T(null)}catch(R){console.error("Failed to start recording:",R),alert("Failed to start recording. Please check microphone permissions and try again.")}},E=()=>{o&&o.stopRecording()},v=()=>{o&&(x?(o.resumeRecording(),i(!1)):(o.pauseRecording(),i(!0)))},j=R=>{const $=Math.floor(R/6e4),Q=Math.floor(R%6e4/1e3);return`${$.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`},A=async()=>{if(C){W(!0);try{await t(C,S||`Recording ${new Date().toISOString()}`),T(null),p(""),y(0),a()}catch(R){console.error("Failed to upload recording:",R),alert("Failed to upload recording")}finally{W(!1)}}},L=()=>{g&&E(),T(null),p(""),y(0),h(!1),i(!1),a()};return e.jsx(xe,{open:r,onOpenChange:L,children:e.jsxs(pe,{className:"sm:max-w-[600px] bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsxs(ye,{children:[e.jsx(be,{className:"text-gray-900 dark:text-gray-100 text-xl font-semibold",children:"Record Audio"}),e.jsx(fe,{className:"text-gray-600 dark:text-gray-400",children:"Record audio directly from your microphone and upload it for transcription."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recording Title (Optional)"}),e.jsx(U,{value:S,onChange:R=>p(R.target.value),placeholder:"Enter a title for your recording...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:g})]}),f.length>1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Microphone"}),e.jsxs(De,{children:[e.jsx(Re,{asChild:!0,disabled:g,children:e.jsxs(O,{variant:"outline",className:"w-full justify-between bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:f.find(R=>R.deviceId===D)?.label||`Microphone ${D.slice(0,8)}`})]}),e.jsx(_r,{className:"h-4 w-4 opacity-50"})]})}),e.jsx(Ae,{className:"w-full min-w-[400px] bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:f.map(R=>e.jsxs(Z,{onClick:()=>n(R.deviceId),className:"flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(ce,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:R.label||`Microphone ${R.deviceId.slice(0,8)}`}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Device ID: ",R.deviceId.slice(0,20),"..."]})]}),D===R.deviceId&&e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]},R.deviceId))})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-mono font-bold text-gray-900 dark:text-gray-100 mb-2",children:j(m)}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[g&&!x&&e.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:g?x?"Recording Paused":"Recording...":"Ready to Record"})]}),g&&e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Recording continues even if you switch tabs"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{ref:B,className:"w-full rounded-lg p-4 bg-gray-50 dark:bg-gray-800/50 min-h-[120px]"}),!g&&!C&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"text-gray-400 dark:text-gray-500 text-sm text-center",children:[e.jsx(ce,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("div",{children:"Waveform will appear here during recording"}),!s&&e.jsx("div",{className:"text-xs text-red-400 mt-1",children:"Initializing recorder..."}),s&&!o&&e.jsx("div",{className:"text-xs text-yellow-400 mt-1",children:"Recorder plugin loading..."}),s&&o&&e.jsx("div",{className:"text-xs text-green-400 mt-1",children:"Ready to record"})]})})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[!g&&!C&&e.jsxs(O,{onClick:te,size:"lg",className:"bg-red-500 hover:bg-red-600 text-white px-8 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105",children:[e.jsx(ce,{className:"h-5 w-5 mr-2"}),"Start Recording"]}),g&&e.jsxs(e.Fragment,{children:[e.jsx(O,{onClick:v,size:"lg",variant:"outline",className:"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 px-6 py-3 rounded-xl",children:x?e.jsxs(e.Fragment,{children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Resume"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sr,{className:"h-5 w-5 mr-2"}),"Pause"]})}),e.jsxs(O,{onClick:E,size:"lg",className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl",children:[e.jsx(Dr,{className:"h-5 w-5 mr-2"}),"Stop"]})]}),C&&e.jsx(O,{onClick:A,size:"lg",disabled:I,className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105",children:I?e.jsxs(e.Fragment,{children:[e.jsx(Rr,{className:"h-5 w-5 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-5 w-5 mr-2"}),"Upload Recording"]})})]}),C&&e.jsx("div",{className:"text-center text-sm text-green-600 dark:text-green-400",children:"âœ“ Recording completed! Review and upload when ready."})]})]})})}function Br({isOpen:r,onClose:a}){const{getAuthHeaders:t}=Ee(),[s,l]=c.useState("upload"),[o,d]=c.useState(null),[g,h]=c.useState([]),[x,i]=c.useState(""),[m,y]=c.useState(null),[S,p]=c.useState(null),f=c.useRef(null),u=c.useRef(null);c.useEffect(()=>{r&&g.length===0&&D()},[r]),c.useEffect(()=>()=>{u.current&&clearInterval(u.current)},[]);const D=async()=>{try{const v=await fetch("/api/v1/profiles/",{headers:t()});if(v.ok){const j=await v.json();h(j);const A=j.find(L=>L.is_default);A&&i(A.name)}}catch(v){console.error("Failed to load profiles:",v)}},n=()=>{f.current?.click()},C=v=>{const j=v.target.files?.[0];j&&j.type.startsWith("audio/")&&(d(j),l("profile"))},T=async()=>{if(o){l("processing"),p(null);try{const v=new FormData;v.append("audio",o),x&&v.append("profile_name",x);const j=await fetch("/api/v1/transcription/quick",{method:"POST",headers:t(),body:v});if(j.ok){const A=await j.json();y(A),I(A.id)}else{const A=await j.json();p(A.error||"Failed to submit transcription"),l("profile")}}catch{p("Network error occurred"),l("profile")}}},I=v=>{u.current=setInterval(async()=>{try{const j=await fetch(`/api/v1/transcription/quick/${v}`,{headers:t()});if(j.ok){const A=await j.json();y(A),(A.status==="completed"||A.status==="failed")&&(u.current&&(clearInterval(u.current),u.current=null),l("result"))}}catch(j){console.error("Polling error:",j)}},2e3)},W=()=>{u.current&&(clearInterval(u.current),u.current=null),l("upload"),d(null),i(""),y(null),p(null),a()},B=v=>{const j=Math.floor(v/60),A=Math.floor(v%60);return`${j.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},te=v=>{try{return JSON.parse(v).segments.map((A,L)=>e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:"text-xs font-mono text-gray-500 bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:[B(A.start)," - ",B(A.end)]})}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed",children:A.text.trim()})]},L))}catch{return[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx("p",{className:"text-gray-900 dark:text-gray-100 leading-relaxed whitespace-pre-wrap",children:v})},"fallback")]}},E=()=>{if(!m?.expires_at)return"";const v=new Date(m.expires_at),j=new Date;return`Expires in ${Math.ceil((v.getTime()-j.getTime())/(1e3*60*60))} hours`};return e.jsx(xe,{open:r,onOpenChange:W,children:e.jsxs(pe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5 text-yellow-500"}),"Quick Transcription"]}),e.jsx(fe,{children:"Fast transcription without saving to your library - files auto-delete after 6 hours"})]}),s==="upload"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(hr,{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 cursor-pointer transition-colors",onClick:n,children:e.jsxs(xr,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Me,{className:"h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Select Audio File"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"Click to choose an audio file from your device"})]})}),e.jsx("input",{ref:f,type:"file",accept:"audio/*",onChange:C,className:"hidden"})]}),s==="profile"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(Ar,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:o?.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o&&(o.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Transcription Profile"}),e.jsxs(K,{value:x,onValueChange:i,children:[e.jsx(Y,{children:e.jsx(G,{placeholder:"Select a profile or use default settings"})}),e.jsx(J,{children:g.map(v=>e.jsx(F,{value:v.name,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:v.name}),v.is_default&&e.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded",children:"Default"})]})},v.id))})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Leave empty to use default settings"})]}),S&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(O,{variant:"outline",onClick:W,children:"Cancel"}),e.jsx(O,{onClick:T,children:"Start Transcription"})]})]}),s==="processing"&&m&&e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Tr,{className:"h-12 w-12 text-blue-500 animate-spin mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Transcribing Audio..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"This may take a few minutes depending on the audio length"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:E()})]}),e.jsxs("div",{className:"text-left bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Job Details:"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ID: ",m.id]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Status: ",m.status]})]}),e.jsx(O,{variant:"outline",onClick:W,children:"Cancel"})]}),s==="result"&&m&&e.jsx("div",{className:"space-y-4",children:m.status==="completed"&&m.transcript?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(Ze,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Transcription Complete"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:E()})]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:te(m.transcript)}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(O,{variant:"outline",onClick:()=>{m.transcript&&navigator.clipboard.writeText(JSON.parse(m.transcript).segments.map(v=>v.text.trim()).join(`
`))},children:"Copy Text"}),e.jsx(O,{onClick:W,children:"Close"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx(Pr,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-900 dark:text-red-100",children:"Transcription Failed"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:m.error_message||"An unknown error occurred"})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(O,{variant:"outline",onClick:()=>l("upload"),children:"Try Again"}),e.jsx(O,{onClick:W,children:"Close"})]})]})})]})})}function qr({isOpen:r,onClose:a,onDownloadComplete:t}){const{getAuthHeaders:s}=Ee(),[l,o]=c.useState(""),[d,g]=c.useState(""),[h,x]=c.useState(!1),[i,m]=c.useState(null),[y,S]=c.useState(!1),p=C=>C.includes("youtube.com")||C.includes("youtu.be"),f=async C=>{if(C.preventDefault(),!l.trim()){m("Please enter a YouTube URL");return}if(!p(l)){m("Please enter a valid YouTube URL");return}x(!0),m(null);try{const T=await fetch("/api/v1/transcription/youtube",{method:"POST",headers:{"Content-Type":"application/json",...s()},body:JSON.stringify({url:l.trim(),title:d.trim()||void 0})});if(T.ok)S(!0),setTimeout(()=>{u(),t?.()},2e3);else{const I=await T.json();m(I.error||"Failed to download YouTube audio")}}catch{m("Network error occurred. Please try again.")}finally{x(!1)}},u=()=>{o(""),g(""),m(null),S(!1),x(!1),a()},n=(C=>{const T=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,I=C.match(T);return I?I[1]:null})(l);return e.jsx(xe,{open:r,onOpenChange:u,children:e.jsxs(pe,{className:"max-w-md",children:[e.jsxs(ye,{children:[e.jsxs(be,{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-5 w-5 text-red-500"}),"Download from YouTube"]}),e.jsx(fe,{children:"Enter a YouTube video URL to download its audio for transcription"})]}),y?e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ze,{className:"h-12 w-12 text-green-500"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Download Complete!"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The audio has been downloaded and added to your audio files."})]})]}):e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"youtube-url",children:"YouTube URL"}),e.jsx(U,{id:"youtube-url",type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:l,onChange:C=>o(C.target.value),disabled:h}),n&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:`https://img.youtube.com/vi/${n}/mqdefault.jpg`,alt:"YouTube thumbnail",className:"w-full h-32 object-cover rounded-md border",onError:C=>{C.target.style.display="none"}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"custom-title",children:"Custom Title (Optional)"}),e.jsx(U,{id:"custom-title",type:"text",placeholder:"Leave empty to use video title",value:d,onChange:C=>g(C.target.value),disabled:h}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"If left empty, the video's title will be used automatically"})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[e.jsx(Fr,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[e.jsx(O,{type:"button",variant:"outline",onClick:u,disabled:h,children:"Cancel"}),e.jsx(O,{type:"submit",disabled:h||!l.trim(),className:"min-w-24",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Downloading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Download"]})})]})]})]})})}const Oe=r=>r.type.startsWith("audio/")||[".mp3",".wav",".flac",".m4a",".aac",".ogg"].some(a=>r.name.toLowerCase().endsWith(a)),ta=r=>r.type.startsWith("video/")||[".mp4",".avi",".mov",".mkv",".wmv",".flv",".webm"].some(a=>r.name.toLowerCase().endsWith(a)),sa=r=>r.name.toLowerCase().endsWith(".aup"),ia=r=>r.replace(/\.[^/.]+$/,""),Kr=r=>{const a=r.filter(Oe),t=r.filter(sa);return t.length===0?{isValid:!1,error:"Multi-track uploads require an .aup Audacity project file"}:t.length>1?{isValid:!1,error:"Only one .aup file is allowed per multi-track upload"}:a.length===0?{isValid:!1,error:"Multi-track uploads require at least one audio file"}:{isValid:!0}},gs=r=>{const a=r.filter(Oe),t=r.filter(ta),s=r.filter(sa);if(s.length>0){const l=ia(s[0].name);return{type:"multitrack",files:a,aupFile:s[0],title:l}}return t.length>0?{type:"video",files:t}:a.length>0?{type:"single",files:a}:{type:"single",files:[]}},us=(r,a=!1)=>r.map(t=>({file:t,isVideo:a})),ms=r=>r.type!=="multitrack"||!r.aupFile?null:{audioFiles:r.files,aupFile:r.aupFile,title:r.title||ia(r.aupFile.name)},hs=r=>{const a=r.files.length;switch(r.type){case"multitrack":return`Multi-track project: ${r.title} (${a} audio tracks)`;case"video":return a===1?"1 video file":`${a} video files`;case"single":return a===1?"1 audio file":`${a} audio files`;default:return"Unknown file type"}},xs=r=>r.type==="multitrack"?Kr([...r.files,r.aupFile]).isValid:r.files.length>0;function ps({onFileSelect:r,onMultiTrackClick:a,onDownloadComplete:t}){const{navigate:s}=pr(),{logout:l}=Ee(),o=c.useRef(null),d=c.useRef(null),[g,h]=c.useState(!1),[x,i]=c.useState(!1),[m,y]=c.useState(!1),S=()=>{o.current?.click()},p=()=>{d.current?.click()},f=()=>{h(!0)},u=()=>{i(!0)},D=()=>{y(!0)},n=()=>{a?.()},C=()=>{s({path:"settings"})},T=()=>{l()},I=()=>{s({path:"home"})},W=E=>{const v=E.target.files;if(v&&v.length>0){const j=Array.from(v),A=j.filter(R=>ta(R));if(A.length>0){alert(`Video files detected. Please use "Upload Videos" instead of "Upload Files" to upload ${A.map(R=>R.name).join(", ")}`),E.target.value="";return}const L=j.filter(R=>Oe(R));L.length>0?(r(L.length===1?L[0]:L),E.target.value=""):(alert("No valid audio files found. Please select audio files (.mp3, .wav, .flac, .m4a, .aac, .ogg)"),E.target.value="")}},B=E=>{const v=E.target.files;if(v&&v.length>0){const j=Array.from(v).filter(A=>A.type.startsWith("video/"));if(j.length>0){const A=j.map(L=>({file:L,isVideo:!0}));r(A.length===1?A[0]:A),E.target.value=""}}},te=async(E,v)=>{const j=new File([E],`${v}.webm`,{type:E.type});r(j)};return e.jsxs("header",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(yr,{onClick:I}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs(De,{children:[e.jsx(Re,{asChild:!0,children:e.jsxs(O,{variant:"default",size:"icon",className:"bg-blue-500 hover:bg-blue-600 text-white h-9 w-9 sm:h-10 sm:w-10 cursor-pointer",children:[e.jsx(Ir,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Add audio"})]})}),e.jsxs(Ae,{align:"end",className:"w-48 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 shadow-lg",children:[e.jsxs(Z,{onClick:u,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(Xe,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Quick Transcribe"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fast transcribe without saving"})]})]}),e.jsxs(Z,{onClick:D,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(ea,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"YouTube URL"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Download audio from YouTube"})]})]}),e.jsxs(Z,{onClick:S,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(Me,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Upload Files"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose one or more audio files"})]})]}),e.jsxs(Z,{onClick:p,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(Er,{className:"h-4 w-4 text-purple-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Upload Videos"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Extract audio from video files"})]})]}),e.jsxs(Z,{onClick:f,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(ce,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Record Audio"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Record using microphone"})]})]}),e.jsxs(Z,{onClick:n,className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[e.jsx(Mr,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Multi-Track Audio"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Upload multiple speaker tracks"})]})]})]})]}),e.jsxs(De,{children:[e.jsx(Re,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 cursor-pointer",children:[e.jsx(Or,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(Ae,{align:"end",className:"w-44 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[e.jsxs(Z,{onClick:I,className:"cursor-pointer",children:[e.jsx(Vr,{className:"h-4 w-4"}),"Home"]}),e.jsxs(Z,{onClick:C,className:"cursor-pointer",children:[e.jsx(Qe,{className:"h-4 w-4"}),"Settings"]}),e.jsxs(Z,{onClick:T,className:"cursor-pointer",variant:"destructive",children:[e.jsx(Lr,{className:"h-4 w-4"}),"Logout"]})]})]}),e.jsx(br,{}),e.jsx("input",{ref:o,type:"file",accept:"audio/*",multiple:!0,onChange:W,className:"hidden"}),e.jsx("input",{ref:d,type:"file",accept:"video/*",multiple:!0,onChange:B,className:"hidden"})]})]}),e.jsx(Ur,{isOpen:g,onClose:()=>h(!1),onRecordingComplete:te}),e.jsx(Br,{isOpen:x,onClose:()=>i(!1)}),e.jsx(qr,{isOpen:m,onClose:()=>y(!1),onDownloadComplete:t})]})}var na="AlertDialog",[Yr,ys]=he(na,[Be]),ae=Be(),la=r=>{const{__scopeAlertDialog:a,...t}=r,s=ae(a);return e.jsx(Qa,{...s,...t,modal:!0})};la.displayName=na;var Gr="AlertDialogTrigger",oa=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,l=ae(t);return e.jsx(tr,{...l,...s,ref:a})});oa.displayName=Gr;var Jr="AlertDialogPortal",da=r=>{const{__scopeAlertDialog:a,...t}=r,s=ae(a);return e.jsx(sr,{...s,...t})};da.displayName=Jr;var Qr="AlertDialogOverlay",ca=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,l=ae(t);return e.jsx(ir,{...l,...s,ref:a})});ca.displayName=Qr;var ie="AlertDialogContent",[Xr,Zr]=Yr(ie),et=er("AlertDialogContent"),ga=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,children:s,...l}=r,o=ae(t),d=c.useRef(null),g=ee(a,d),h=c.useRef(null);return e.jsx(Xa,{contentName:ie,titleName:ua,docsSlug:"alert-dialog",children:e.jsx(Xr,{scope:t,cancelRef:h,children:e.jsxs(Za,{role:"alertdialog",...o,...l,ref:g,onOpenAutoFocus:z(l.onOpenAutoFocus,x=>{x.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[e.jsx(et,{children:s}),e.jsx(rt,{contentRef:d})]})})})});ga.displayName=ie;var ua="AlertDialogTitle",ma=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,l=ae(t);return e.jsx(ar,{...l,...s,ref:a})});ma.displayName=ua;var ha="AlertDialogDescription",xa=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,l=ae(t);return e.jsx(rr,{...l,...s,ref:a})});xa.displayName=ha;var at="AlertDialogAction",pa=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,l=ae(t);return e.jsx(qe,{...l,...s,ref:a})});pa.displayName=at;var ya="AlertDialogCancel",ba=c.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...s}=r,{cancelRef:l}=Zr(ya,t),o=ae(t),d=ee(a,l);return e.jsx(qe,{...o,...s,ref:d})});ba.displayName=ya;var rt=({contentRef:r})=>{const a=`\`${ie}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ie}\` by passing a \`${ha}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ie}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,r]),null},tt=la,st=oa,it=da,nt=ca,lt=ga,ot=pa,dt=ba,ct=ma,gt=xa;function bs({...r}){return e.jsx(tt,{"data-slot":"alert-dialog",...r})}function fs({...r}){return e.jsx(st,{"data-slot":"alert-dialog-trigger",...r})}function ut({...r}){return e.jsx(it,{"data-slot":"alert-dialog-portal",...r})}function mt({className:r,...a}){return e.jsx(nt,{"data-slot":"alert-dialog-overlay",className:V("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...a})}function vs({className:r,...a}){return e.jsxs(ut,{children:[e.jsx(mt,{}),e.jsx(lt,{"data-slot":"alert-dialog-content",className:V("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg bg-white dark:bg-gray-800",r),...a})]})}function js({className:r,...a}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:V("flex flex-col gap-2 text-center sm:text-left",r),...a})}function ks({className:r,...a}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:V("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...a})}function Ns({className:r,...a}){return e.jsx(ct,{"data-slot":"alert-dialog-title",className:V("text-lg font-semibold",r),...a})}function ws({className:r,...a}){return e.jsx(gt,{"data-slot":"alert-dialog-description",className:V("text-muted-foreground text-sm",r),...a})}function _s({className:r,...a}){return e.jsx(ot,{className:V(Ye(),r),...a})}function Cs({className:r,...a}){return e.jsx(dt,{className:V(Ye({variant:"outline"}),r),...a})}var ve="Tabs",[ht,Ss]=he(ve,[Ge]),fa=Ge(),[xt,Ve]=ht(ve),va=c.forwardRef((r,a)=>{const{__scopeTabs:t,value:s,onValueChange:l,defaultValue:o,orientation:d="horizontal",dir:g,activationMode:h="automatic",...x}=r,i=Je(g),[m,y]=ze({prop:s,onChange:l,defaultProp:o??"",caller:ve});return e.jsx(xt,{scope:t,baseId:nr(),value:m,onValueChange:y,orientation:d,dir:i,activationMode:h,children:e.jsx(X.div,{dir:i,"data-orientation":d,...x,ref:a})})});va.displayName=ve;var ja="TabsList",ka=c.forwardRef((r,a)=>{const{__scopeTabs:t,loop:s=!0,...l}=r,o=Ve(ja,t),d=fa(t);return e.jsx(vr,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:s,children:e.jsx(X.div,{role:"tablist","aria-orientation":o.orientation,...l,ref:a})})});ka.displayName=ja;var Na="TabsTrigger",wa=c.forwardRef((r,a)=>{const{__scopeTabs:t,value:s,disabled:l=!1,...o}=r,d=Ve(Na,t),g=fa(t),h=Sa(d.baseId,s),x=Da(d.baseId,s),i=s===d.value;return e.jsx(jr,{asChild:!0,...g,focusable:!l,active:i,children:e.jsx(X.button,{type:"button",role:"tab","aria-selected":i,"aria-controls":x,"data-state":i?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:h,...o,ref:a,onMouseDown:z(r.onMouseDown,m=>{!l&&m.button===0&&m.ctrlKey===!1?d.onValueChange(s):m.preventDefault()}),onKeyDown:z(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&d.onValueChange(s)}),onFocus:z(r.onFocus,()=>{const m=d.activationMode!=="manual";!i&&!l&&m&&d.onValueChange(s)})})})});wa.displayName=Na;var _a="TabsContent",Ca=c.forwardRef((r,a)=>{const{__scopeTabs:t,value:s,forceMount:l,children:o,...d}=r,g=Ve(_a,t),h=Sa(g.baseId,s),x=Da(g.baseId,s),i=s===g.value,m=c.useRef(i);return c.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(Ie,{present:l||i,children:({present:y})=>e.jsx(X.div,{"data-state":i?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":h,hidden:!y,id:x,tabIndex:0,...d,ref:a,style:{...r.style,animationDuration:m.current?"0s":void 0},children:y&&o})})});Ca.displayName=_a;function Sa(r,a){return`${r}-trigger-${a}`}function Da(r,a){return`${r}-content-${a}`}var pt=va,yt=ka,bt=wa,ft=Ca;function vt({className:r,...a}){return e.jsx(pt,{"data-slot":"tabs",className:V("flex flex-col gap-2",r),...a})}function jt({className:r,...a}){return e.jsx(yt,{"data-slot":"tabs-list",className:V("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...a})}function oe({className:r,...a}){return e.jsx(bt,{"data-slot":"tabs-trigger",className:V("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 cursor-pointer",r),...a})}function de({className:r,...a}){return e.jsx(ft,{"data-slot":"tabs-content",className:V("flex-1 outline-none",r),...a})}var Ra=["PageUp","PageDown"],Aa=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ta={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ne="Slider",[Te,kt,Nt]=kr(ne),[Pa,Ds]=he(ne,[Nt]),[wt,je]=Pa(ne),Fa=c.forwardRef((r,a)=>{const{name:t,min:s=0,max:l=100,step:o=1,orientation:d="horizontal",disabled:g=!1,minStepsBetweenThumbs:h=0,defaultValue:x=[s],value:i,onValueChange:m=()=>{},onValueCommit:y=()=>{},inverted:S=!1,form:p,...f}=r,u=c.useRef(new Set),D=c.useRef(0),C=d==="horizontal"?_t:Ct,[T=[],I]=ze({prop:i,defaultProp:x,onChange:j=>{[...u.current][D.current]?.focus(),m(j)}}),W=c.useRef(T);function B(j){const A=Tt(T,j);v(j,A)}function te(j){v(j,D.current)}function E(){const j=W.current[D.current];T[D.current]!==j&&y(T)}function v(j,A,{commit:L}={commit:!1}){const R=It(o),$=Et(Math.round((j-s)/o)*o+s,R),Q=aa($,[s,l]);I((q=[])=>{const M=Rt(q,Q,A);if(zt(M,h*o)){D.current=M.indexOf(Q);const se=String(M)!==String(q);return se&&L&&y(M),se?M:q}else return q})}return e.jsx(wt,{scope:r.__scopeSlider,name:t,disabled:g,min:s,max:l,valueIndexToChangeRef:D,thumbs:u.current,values:T,orientation:d,form:p,children:e.jsx(Te.Provider,{scope:r.__scopeSlider,children:e.jsx(Te.Slot,{scope:r.__scopeSlider,children:e.jsx(C,{"aria-disabled":g,"data-disabled":g?"":void 0,...f,ref:a,onPointerDown:z(f.onPointerDown,()=>{g||(W.current=T)}),min:s,max:l,inverted:S,onSlideStart:g?void 0:B,onSlideMove:g?void 0:te,onSlideEnd:g?void 0:E,onHomeKeyDown:()=>!g&&v(s,0,{commit:!0}),onEndKeyDown:()=>!g&&v(l,T.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:A})=>{if(!g){const $=Ra.includes(j.key)||j.shiftKey&&Aa.includes(j.key)?10:1,Q=D.current,q=T[Q],M=o*$*A;v(q+M,Q,{commit:!0})}}})})})})});Fa.displayName=ne;var[za,Ia]=Pa(ne,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_t=c.forwardRef((r,a)=>{const{min:t,max:s,dir:l,inverted:o,onSlideStart:d,onSlideMove:g,onSlideEnd:h,onStepKeyDown:x,...i}=r,[m,y]=c.useState(null),S=ee(a,C=>y(C)),p=c.useRef(void 0),f=Je(l),u=f==="ltr",D=u&&!o||!u&&o;function n(C){const T=p.current||m.getBoundingClientRect(),I=[0,T.width],B=Le(I,D?[t,s]:[s,t]);return p.current=T,B(C-T.left)}return e.jsx(za,{scope:r.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:e.jsx(Ea,{dir:f,"data-orientation":"horizontal",...i,ref:S,style:{...i.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const T=n(C.clientX);d?.(T)},onSlideMove:C=>{const T=n(C.clientX);g?.(T)},onSlideEnd:()=>{p.current=void 0,h?.()},onStepKeyDown:C=>{const I=Ta[D?"from-left":"from-right"].includes(C.key);x?.({event:C,direction:I?-1:1})}})})}),Ct=c.forwardRef((r,a)=>{const{min:t,max:s,inverted:l,onSlideStart:o,onSlideMove:d,onSlideEnd:g,onStepKeyDown:h,...x}=r,i=c.useRef(null),m=ee(a,i),y=c.useRef(void 0),S=!l;function p(f){const u=y.current||i.current.getBoundingClientRect(),D=[0,u.height],C=Le(D,S?[s,t]:[t,s]);return y.current=u,C(f-u.top)}return e.jsx(za,{scope:r.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:e.jsx(Ea,{"data-orientation":"vertical",...x,ref:m,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const u=p(f.clientY);o?.(u)},onSlideMove:f=>{const u=p(f.clientY);d?.(u)},onSlideEnd:()=>{y.current=void 0,g?.()},onStepKeyDown:f=>{const D=Ta[S?"from-bottom":"from-top"].includes(f.key);h?.({event:f,direction:D?-1:1})}})})}),Ea=c.forwardRef((r,a)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:l,onSlideEnd:o,onHomeKeyDown:d,onEndKeyDown:g,onStepKeyDown:h,...x}=r,i=je(ne,t);return e.jsx(X.span,{...x,ref:a,onKeyDown:z(r.onKeyDown,m=>{m.key==="Home"?(d(m),m.preventDefault()):m.key==="End"?(g(m),m.preventDefault()):Ra.concat(Aa).includes(m.key)&&(h(m),m.preventDefault())}),onPointerDown:z(r.onPointerDown,m=>{const y=m.target;y.setPointerCapture(m.pointerId),m.preventDefault(),i.thumbs.has(y)?y.focus():s(m)}),onPointerMove:z(r.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&l(m)}),onPointerUp:z(r.onPointerUp,m=>{const y=m.target;y.hasPointerCapture(m.pointerId)&&(y.releasePointerCapture(m.pointerId),o(m))})})}),Ma="SliderTrack",Oa=c.forwardRef((r,a)=>{const{__scopeSlider:t,...s}=r,l=je(Ma,t);return e.jsx(X.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...s,ref:a})});Oa.displayName=Ma;var Pe="SliderRange",Va=c.forwardRef((r,a)=>{const{__scopeSlider:t,...s}=r,l=je(Pe,t),o=Ia(Pe,t),d=c.useRef(null),g=ee(a,d),h=l.values.length,x=l.values.map(y=>Wa(y,l.min,l.max)),i=h>1?Math.min(...x):0,m=100-Math.max(...x);return e.jsx(X.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...s,ref:g,style:{...r.style,[o.startEdge]:i+"%",[o.endEdge]:m+"%"}})});Va.displayName=Pe;var Fe="SliderThumb",La=c.forwardRef((r,a)=>{const t=kt(r.__scopeSlider),[s,l]=c.useState(null),o=ee(a,g=>l(g)),d=c.useMemo(()=>s?t().findIndex(g=>g.ref.current===s):-1,[t,s]);return e.jsx(St,{...r,ref:o,index:d})}),St=c.forwardRef((r,a)=>{const{__scopeSlider:t,index:s,name:l,...o}=r,d=je(Fe,t),g=Ia(Fe,t),[h,x]=c.useState(null),i=ee(a,n=>x(n)),m=h?d.form||!!h.closest("form"):!0,y=lr(h),S=d.values[s],p=S===void 0?0:Wa(S,d.min,d.max),f=At(s,d.values.length),u=y?.[g.size],D=u?Pt(u,p,g.direction):0;return c.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[g.startEdge]:`calc(${p}% + ${D}px)`},children:[e.jsx(Te.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(X.span,{role:"slider","aria-label":r["aria-label"]||f,"aria-valuemin":d.min,"aria-valuenow":S,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...o,ref:i,style:S===void 0?{display:"none"}:r.style,onFocus:z(r.onFocus,()=>{d.valueIndexToChangeRef.current=s})})}),m&&e.jsx(Ha,{name:l??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:S},s)]})});La.displayName=Fe;var Dt="RadioBubbleInput",Ha=c.forwardRef(({__scopeSlider:r,value:a,...t},s)=>{const l=c.useRef(null),o=ee(l,s),d=Nr(a);return c.useEffect(()=>{const g=l.current;if(!g)return;const h=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==a&&i){const m=new Event("input",{bubbles:!0});i.call(g,a),g.dispatchEvent(m)}},[d,a]),e.jsx(X.input,{style:{display:"none"},...t,ref:o,defaultValue:a})});Ha.displayName=Dt;function Rt(r=[],a,t){const s=[...r];return s[t]=a,s.sort((l,o)=>l-o)}function Wa(r,a,t){const o=100/(t-a)*(r-a);return aa(o,[0,100])}function At(r,a){return a>2?`Value ${r+1} of ${a}`:a===2?["Minimum","Maximum"][r]:void 0}function Tt(r,a){if(r.length===1)return 0;const t=r.map(l=>Math.abs(l-a)),s=Math.min(...t);return t.indexOf(s)}function Pt(r,a,t){const s=r/2,o=Le([0,50],[0,s]);return(s-o(a)*t)*t}function Ft(r){return r.slice(0,-1).map((a,t)=>r[t+1]-a)}function zt(r,a){if(a>0){const t=Ft(r);return Math.min(...t)>=a}return!0}function Le(r,a){return t=>{if(r[0]===r[1]||a[0]===a[1])return a[0];const s=(a[1]-a[0])/(r[1]-r[0]);return a[0]+s*(t-r[0])}}function It(r){return(String(r).split(".")[1]||"").length}function Et(r,a){const t=Math.pow(10,a);return Math.round(r*t)/t}var Mt=Fa,Ot=Oa,Vt=Va,Lt=La;function H({className:r,defaultValue:a,value:t,min:s=0,max:l=100,...o}){const d=c.useMemo(()=>Array.isArray(t)?t:Array.isArray(a)?a:[s,l],[t,a,s,l]);return e.jsxs(Mt,{"data-slot":"slider",defaultValue:a,value:t,min:s,max:l,className:V("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col cursor-pointer",r),...o,children:[e.jsx(Ot,{"data-slot":"slider-track",className:V("bg-gray-200 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(Vt,{"data-slot":"slider-range",className:V("bg-blue-500 absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(g,h)=>e.jsx(Lt,{"data-slot":"slider-thumb",className:"border-blue-500 bg-white ring-blue-500/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 cursor-pointer"},h))]})}var Ht="Separator",$e="horizontal",Wt=["horizontal","vertical"],$a=c.forwardRef((r,a)=>{const{decorative:t,orientation:s=$e,...l}=r,o=$t(s)?s:$e,g=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(X.div,{"data-orientation":o,...g,...l,ref:a})});$a.displayName=Ht;function $t(r){return Wt.includes(r)}var Ut=$a;function Ce({className:r,orientation:a="horizontal",decorative:t=!0,...s}){return e.jsx(Ut,{"data-slot":"separator",decorative:t,orientation:a,className:V("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...s})}var Se,ke="HoverCard",[Ua,Rs]=he(ke,[Ke]),Ne=Ke(),[Bt,we]=Ua(ke),Ba=r=>{const{__scopeHoverCard:a,children:t,open:s,defaultOpen:l,onOpenChange:o,openDelay:d=700,closeDelay:g=300}=r,h=Ne(a),x=c.useRef(0),i=c.useRef(0),m=c.useRef(!1),y=c.useRef(!1),[S,p]=ze({prop:s,defaultProp:l??!1,onChange:o,caller:ke}),f=c.useCallback(()=>{clearTimeout(i.current),x.current=window.setTimeout(()=>p(!0),d)},[d,p]),u=c.useCallback(()=>{clearTimeout(x.current),!m.current&&!y.current&&(i.current=window.setTimeout(()=>p(!1),g))},[g,p]),D=c.useCallback(()=>p(!1),[p]);return c.useEffect(()=>()=>{clearTimeout(x.current),clearTimeout(i.current)},[]),e.jsx(Bt,{scope:a,open:S,onOpenChange:p,onOpen:f,onClose:u,onDismiss:D,hasSelectionRef:m,isPointerDownOnContentRef:y,children:e.jsx(or,{...h,children:t})})};Ba.displayName=ke;var qa="HoverCardTrigger",Ka=c.forwardRef((r,a)=>{const{__scopeHoverCard:t,...s}=r,l=we(qa,t),o=Ne(t);return e.jsx(dr,{asChild:!0,...o,children:e.jsx(X.a,{"data-state":l.open?"open":"closed",...s,ref:a,onPointerEnter:z(r.onPointerEnter,me(l.onOpen)),onPointerLeave:z(r.onPointerLeave,me(l.onClose)),onFocus:z(r.onFocus,l.onOpen),onBlur:z(r.onBlur,l.onClose),onTouchStart:z(r.onTouchStart,d=>d.preventDefault())})})});Ka.displayName=qa;var He="HoverCardPortal",[qt,Kt]=Ua(He,{forceMount:void 0}),Ya=r=>{const{__scopeHoverCard:a,forceMount:t,children:s,container:l}=r,o=we(He,a);return e.jsx(qt,{scope:a,forceMount:t,children:e.jsx(Ie,{present:t||o.open,children:e.jsx(cr,{asChild:!0,container:l,children:s})})})};Ya.displayName=He;var ue="HoverCardContent",Ga=c.forwardRef((r,a)=>{const t=Kt(ue,r.__scopeHoverCard),{forceMount:s=t.forceMount,...l}=r,o=we(ue,r.__scopeHoverCard);return e.jsx(Ie,{present:s||o.open,children:e.jsx(Yt,{"data-state":o.open?"open":"closed",...l,onPointerEnter:z(r.onPointerEnter,me(o.onOpen)),onPointerLeave:z(r.onPointerLeave,me(o.onClose)),ref:a})})});Ga.displayName=ue;var Yt=c.forwardRef((r,a)=>{const{__scopeHoverCard:t,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:d,...g}=r,h=we(ue,t),x=Ne(t),i=c.useRef(null),m=ee(a,i),[y,S]=c.useState(!1);return c.useEffect(()=>{if(y){const p=document.body;return Se=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=Se,p.style.webkitUserSelect=Se}}},[y]),c.useEffect(()=>{if(i.current){const p=()=>{S(!1),h.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(h.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!1}}},[h.isPointerDownOnContentRef,h.hasSelectionRef]),c.useEffect(()=>{i.current&&Qt(i.current).forEach(f=>f.setAttribute("tabindex","-1"))}),e.jsx(gr,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:z(o,p=>{p.preventDefault()}),onDismiss:h.onDismiss,children:e.jsx(ur,{...x,...g,onPointerDown:z(g.onPointerDown,p=>{p.currentTarget.contains(p.target)&&S(!0),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!0}),ref:m,style:{...g.style,userSelect:y?"text":void 0,WebkitUserSelect:y?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Gt="HoverCardArrow",Jt=c.forwardRef((r,a)=>{const{__scopeHoverCard:t,...s}=r,l=Ne(t);return e.jsx(mr,{...l,...s,ref:a})});Jt.displayName=Gt;function me(r){return a=>a.pointerType==="touch"?void 0:r()}function Qt(r){const a=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)a.push(t.currentNode);return a}var Xt=Ba,Zt=Ka,es=Ya,as=Ga;function N({...r}){return e.jsx(Xt,{"data-slot":"hover-card",...r})}function w({...r}){return e.jsx(Zt,{"data-slot":"hover-card-trigger",...r})}function _({className:r,align:a="center",sideOffset:t=4,...s}){return e.jsx(es,{"data-slot":"hover-card-portal",children:e.jsx(as,{"data-slot":"hover-card-content",align:a,sideOffset:t,className:V("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r),...s})})}const P={model:"Size of the Whisper model to use. Larger models are more accurate but slower and require more memory.",language:"Source language of the audio. Leave as auto-detect for automatic language detection.",task:"Whether to transcribe the audio or translate it to English.",device:"Processing device: CPU (slower, universal), GPU (faster, requires CUDA), MPS (Apple Silicon GPU), or AUTO (automatic selection).",compute_type:"Precision type: Float16 (faster, less memory), Float32 (more accurate), Int8 (fastest, least accurate).",batch_size:"Number of audio segments processed simultaneously. Higher values are faster but use more memory.",diarize:"Enable speaker diarization to identify and separate different speakers in the audio.",min_speakers:"Minimum number of speakers expected in the audio (leave empty for automatic detection).",max_speakers:"Maximum number of speakers expected in the audio (leave empty for automatic detection).",diarize_model:"Choose diarization model: Pyannote models require a HuggingFace token and support unlimited speakers. NVIDIA Sortformer is optimized for 4-speaker scenarios and doesn't require a token.",temperature:"Controls randomness in output. 0 = deterministic, higher values = more creative but less accurate.",beam_size:"Number of beams for beam search decoding. Higher values improve quality but are slower.",best_of:"Number of candidate sequences when sampling. Higher values improve quality but are slower.",patience:"Patience factor for beam search. Higher values wait longer for better sequences.",length_penalty:"Penalty applied to longer sequences. >1 favors longer, <1 favors shorter sequences.",initial_prompt:"Optional text to provide context for the first transcription window.",suppress_numerals:"Suppress numeric symbols and currency symbols during transcription sampling.",condition_on_previous_text:"Use previous transcription output as context for next segment (may cause repetition loops).",vad_method:"Voice Activity Detection method: Pyannote (more accurate) or Silero (faster).",vad_onset:"Sensitivity threshold for detecting speech start. Lower = more sensitive to quiet speech.",vad_offset:"Sensitivity threshold for detecting speech end. Lower = continues longer into silence.",chunk_size:"Duration in seconds for merging adjacent speech segments detected by VAD.",compression_ratio_threshold:"Fail transcription if text compression ratio exceeds this value (indicates repetitive output).",logprob_threshold:"Fail transcription if average log probability is below this value (indicates low confidence).",no_speech_threshold:"Consider segment as silence if no-speech probability exceeds this value.",suppress_tokens:"Comma-separated token IDs to suppress during generation (e.g., -1 for default special tokens).",no_align:"Skip phoneme-level alignment for faster processing but less precise word timestamps.",return_char_alignments:"Include character-level timing alignments in the output (increases processing time).",fp16:"Use 16-bit floating point precision for faster inference with slightly reduced accuracy.",hf_token:"Hugging Face API token required for accessing private or gated models."},Ue={model_family:"whisper",model:"small",model_cache_only:!1,device:"cpu",device_index:0,batch_size:8,compute_type:"float32",threads:0,output_format:"all",verbose:!0,task:"transcribe",interpolate_method:"nearest",no_align:!1,return_char_alignments:!1,vad_method:"pyannote",vad_onset:.5,vad_offset:.363,chunk_size:30,diarize:!1,diarize_model:"pyannote",speaker_embeddings:!1,temperature:0,best_of:5,beam_size:5,patience:1,length_penalty:1,suppress_numerals:!1,condition_on_previous_text:!1,fp16:!0,temperature_increment_on_fallback:.2,compression_ratio_threshold:2.4,logprob_threshold:-1,no_speech_threshold:.6,highlight_words:!1,segment_resolution:"sentence",print_progress:!1,attention_context_left:256,attention_context_right:256,is_multi_track_enabled:!1},rs=["tiny","tiny.en","base","base.en","small","small.en","medium","medium.en","large","large-v1","large-v2","large-v3"],ts=[{value:"auto",label:"Auto-detect"},{value:"en",label:"English"},{value:"zh",label:"Chinese"},{value:"de",label:"German"},{value:"es",label:"Spanish"},{value:"ru",label:"Russian"},{value:"ko",label:"Korean"},{value:"fr",label:"French"},{value:"ja",label:"Japanese"},{value:"pt",label:"Portuguese"},{value:"tr",label:"Turkish"},{value:"pl",label:"Polish"},{value:"ca",label:"Catalan"},{value:"nl",label:"Dutch"},{value:"ar",label:"Arabic"},{value:"sv",label:"Swedish"},{value:"it",label:"Italian"},{value:"id",label:"Indonesian"},{value:"hi",label:"Hindi"},{value:"fi",label:"Finnish"},{value:"vi",label:"Vietnamese"},{value:"he",label:"Hebrew"},{value:"uk",label:"Ukrainian"},{value:"el",label:"Greek"},{value:"ms",label:"Malay"},{value:"cs",label:"Czech"},{value:"ro",label:"Romanian"},{value:"da",label:"Danish"},{value:"hu",label:"Hungarian"},{value:"ta",label:"Tamil"},{value:"no",label:"Norwegian"},{value:"th",label:"Thai"},{value:"ur",label:"Urdu"},{value:"hr",label:"Croatian"},{value:"bg",label:"Bulgarian"},{value:"lt",label:"Lithuanian"},{value:"la",label:"Latin"},{value:"mi",label:"Maori"},{value:"ml",label:"Malayalam"},{value:"cy",label:"Welsh"},{value:"sk",label:"Slovak"},{value:"te",label:"Telugu"},{value:"fa",label:"Persian"},{value:"lv",label:"Latvian"},{value:"bn",label:"Bengali"},{value:"sr",label:"Serbian"},{value:"az",label:"Azerbaijani"},{value:"sl",label:"Slovenian"},{value:"kn",label:"Kannada"},{value:"et",label:"Estonian"},{value:"mk",label:"Macedonian"},{value:"br",label:"Breton"},{value:"eu",label:"Basque"},{value:"is",label:"Icelandic"},{value:"hy",label:"Armenian"},{value:"ne",label:"Nepali"},{value:"mn",label:"Mongolian"},{value:"bs",label:"Bosnian"},{value:"kk",label:"Kazakh"},{value:"sq",label:"Albanian"},{value:"sw",label:"Swahili"},{value:"gl",label:"Galician"},{value:"mr",label:"Marathi"},{value:"pa",label:"Punjabi"},{value:"si",label:"Sinhala"},{value:"km",label:"Khmer"},{value:"sn",label:"Shona"},{value:"yo",label:"Yoruba"},{value:"so",label:"Somali"},{value:"af",label:"Afrikaans"},{value:"oc",label:"Occitan"},{value:"ka",label:"Georgian"},{value:"be",label:"Belarusian"},{value:"tg",label:"Tajik"},{value:"sd",label:"Sindhi"},{value:"gu",label:"Gujarati"},{value:"am",label:"Amharic"},{value:"yi",label:"Yiddish"},{value:"lo",label:"Lao"},{value:"uz",label:"Uzbek"},{value:"fo",label:"Faroese"},{value:"ht",label:"Haitian Creole"},{value:"ps",label:"Pashto"},{value:"tk",label:"Turkmen"},{value:"nn",label:"Nynorsk"},{value:"mt",label:"Maltese"},{value:"sa",label:"Sanskrit"},{value:"lb",label:"Luxembourgish"},{value:"my",label:"Myanmar"},{value:"bo",label:"Tibetan"},{value:"tl",label:"Tagalog"},{value:"mg",label:"Malagasy"},{value:"as",label:"Assamese"},{value:"tt",label:"Tatar"},{value:"haw",label:"Hawaiian"},{value:"ln",label:"Lingala"},{value:"ha",label:"Hausa"},{value:"ba",label:"Bashkir"},{value:"jw",label:"Javanese"},{value:"su",label:"Sundanese"}],ss=[{value:"bg",label:"Bulgarian"},{value:"hr",label:"Croatian"},{value:"cs",label:"Czech"},{value:"da",label:"Danish"},{value:"nl",label:"Dutch"},{value:"en",label:"English"},{value:"et",label:"Estonian"},{value:"fi",label:"Finnish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"el",label:"Greek"},{value:"hu",label:"Hungarian"},{value:"it",label:"Italian"},{value:"lv",label:"Latvian"},{value:"lt",label:"Lithuanian"},{value:"mt",label:"Maltese"},{value:"pl",label:"Polish"},{value:"pt",label:"Portuguese"},{value:"ro",label:"Romanian"},{value:"sk",label:"Slovak"},{value:"sl",label:"Slovenian"},{value:"es",label:"Spanish"},{value:"sv",label:"Swedish"},{value:"ru",label:"Russian"},{value:"uk",label:"Ukrainian"}],As=c.memo(function({open:a,onOpenChange:t,onStartTranscription:s,loading:l=!1,isProfileMode:o=!1,initialParams:d,initialName:g="",initialDescription:h="",isMultiTrack:x=!1}){const[i,m]=c.useState(Ue),[y,S]=c.useState(""),[p,f]=c.useState("");c.useEffect(()=>{if(a){const n=d||Ue;m({...n,is_multi_track_enabled:x,diarize:x?!1:n.diarize}),S(g),f(h)}},[a,d,g,h,x]);const u=(n,C)=>{m(T=>({...T,[n]:C}))},D=()=>{s(o?{...i,profileName:y,profileDescription:p}:i)};return e.jsx(xe,{open:a,onOpenChange:t,children:e.jsxs(pe,{className:"max-w-full sm:max-w-4xl w-[calc(100vw-1rem)] sm:w-auto max-h-[85vh] overflow-y-auto bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 p-3 sm:p-8",children:[e.jsxs(ye,{className:"mb-3 sm:mb-6",children:[e.jsx(be,{className:"text-gray-900 dark:text-gray-100",children:o?g?`Edit "${g}"`:"New Transcription Profile":"Transcription Configuration"}),e.jsx(fe,{className:"text-gray-600 dark:text-gray-400",children:o?g?"Update your transcription profile settings.":"Create a new profile to save and reuse your transcription settings.":"Configure WhisperX parameters for your transcription. Advanced settings allow fine-tuning quality and performance."})]}),o&&e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"profileName",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Profile Name"}),e.jsx(U,{id:"profileName",value:y,onChange:n=>S(n.target.value),placeholder:"Enter a name for this profile...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{htmlFor:"profileDescription",className:"text-gray-700 dark:text-gray-300 font-medium",children:["Description ",e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-normal",children:"(optional)"})]}),e.jsx(We,{id:"profileDescription",value:p,onChange:n=>f(n.target.value),placeholder:"Describe this profile's purpose...",className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 resize-none",rows:2})]})]}),e.jsx("div",{className:"mb-6 space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"modelFamily",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Model Family"}),e.jsxs(K,{value:i.model_family,onValueChange:n=>u("model_family",n),children:[e.jsx(Y,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"whisper",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Whisper (OpenAI)"}),e.jsx(F,{value:"nvidia_parakeet",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"NVIDIA Parakeet"}),e.jsx(F,{value:"nvidia_canary",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"NVIDIA Canary"})]})]})]})}),i.model_family==="nvidia_parakeet"?e.jsxs("div",{className:"space-y-6",children:[x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Transcription Mode"}),e.jsxs("div",{className:"p-4 border border-blue-200 dark:border-blue-700 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Multi-track audio detected"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Multi-track transcription is automatically enabled for this audio file."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Long-form Audio Settings"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{htmlFor:"attention_context_left",className:"text-gray-700 dark:text-gray-300",children:"Left Context Size"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Left Attention Context"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Controls how much past audio context the model considers when processing. Higher values (up to 512) improve accuracy for long audio but increase memory usage."}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"â€¢ Default: 256 (good balance) â€¢ Low (64-128): Faster, less memory, may reduce accuracy â€¢ High (384-512): Better context, more memory needed"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{value:[i.attention_context_left],onValueChange:n=>u("attention_context_left",n[0]),max:512,min:64,step:64,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:"64 (Fast)"}),e.jsx("span",{className:"font-medium",children:i.attention_context_left}),e.jsx("span",{children:"512 (Max Context)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{htmlFor:"attention_context_right",className:"text-gray-700 dark:text-gray-300",children:"Right Context Size"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Right Attention Context"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Controls how much future audio context the model considers. Higher values improve accuracy but increase processing latency and memory usage."}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"â€¢ Default: 256 (recommended) â€¢ Low (64-128): Real-time processing, may reduce accuracy â€¢ High (384-512): Better accuracy, higher latency"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{value:[i.attention_context_right],onValueChange:n=>u("attention_context_right",n[0]),max:512,min:64,step:64,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:"64 (Fast)"}),e.jsx("span",{className:"font-medium",children:i.attention_context_right}),e.jsx("span",{children:"512 (Max Context)"})]})]})]})]})]}),!x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Speaker Diarization"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(re,{id:"parakeet_diarize",checked:i.diarize,onCheckedChange:n=>u("diarize",n),disabled:i.is_multi_track_enabled}),e.jsx(b,{htmlFor:"parakeet_diarize",className:"text-gray-700 dark:text-gray-300",children:"Enable Speaker Diarization"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Pyannote Speaker Diarization"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Uses Pyannote to identify and separate different speakers in the audio after transcription. Requires a Hugging Face token for model access."})]})})]})]}),i.diarize&&e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"parakeet_min_speakers",className:"text-gray-700 dark:text-gray-300",children:"Min Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Minimum number of speakers expected in the audio (leave empty for automatic detection)."})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.min_speakers||"",onChange:n=>u("min_speakers",n.target.value?parseInt(n.target.value):void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"parakeet_max_speakers",className:"text-gray-700 dark:text-gray-300",children:"Max Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Maximum number of speakers expected in the audio (leave empty for automatic detection)."})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.max_speakers||"",onChange:n=>u("max_speakers",n.target.value?parseInt(n.target.value):void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"parakeet_diarize_model",className:"text-gray-700 dark:text-gray-300",children:"Diarization Model"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.diarize_model})})]})]}),e.jsxs(K,{value:i.diarize_model,onValueChange:n=>u("diarize_model",n),children:[e.jsx(Y,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"pyannote",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Pyannote (Recommended) - Requires HF Token"}),e.jsx(F,{value:"nvidia_sortformer",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"NVIDIA Sortformer - 4 Speakers Max, No Token"})]})]})]}),i.diarize_model==="pyannote"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"parakeet_hf_token",className:"text-gray-700 dark:text-gray-300",children:"Hugging Face Token"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hugging Face API token required for accessing Pyannote diarization models. Get one at https://huggingface.co/settings/tokens"})})]})]}),e.jsx(U,{type:"password",placeholder:"Required for Pyannote diarization models",value:i.hf_token||"",onChange:n=>u("hf_token",n.target.value||void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),i.diarize_model==="nvidia_sortformer"&&e.jsx("div",{className:"p-4 border border-orange-200 dark:border-orange-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-orange-500 dark:text-orange-400 mt-0.5",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 mb-1",children:"NVIDIA Sortformer Limitations"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"This model is optimized for up to 4 speakers. Beyond 4 speakers accuracy might degrade."})]})]})})]})]})]}):i.model_family==="nvidia_canary"?e.jsxs("div",{className:"space-y-6",children:[x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Transcription Mode"}),e.jsxs("div",{className:"p-4 border border-blue-200 dark:border-blue-700 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Multi-track audio detected"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Multi-track transcription is automatically enabled for this audio file."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Language Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"canary_language",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Source Language"}),e.jsxs(K,{value:i.language||"en",onValueChange:n=>u("language",n),children:[e.jsx(Y,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsx(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-60",children:ss.map(n=>e.jsx(F,{value:n.value,className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:n.label},n.value))})]})]})]}),!x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Speaker Diarization"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(re,{id:"canary_diarize",checked:i.diarize,onCheckedChange:n=>u("diarize",n),disabled:i.is_multi_track_enabled}),e.jsx(b,{htmlFor:"canary_diarize",className:"text-gray-700 dark:text-gray-300",children:"Enable Speaker Diarization"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Pyannote Speaker Diarization"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Uses Pyannote to identify and separate different speakers in the audio after transcription. Requires a Hugging Face token for model access."})]})})]})]}),i.diarize&&e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"canary_min_speakers",className:"text-gray-700 dark:text-gray-300",children:"Min Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Minimum number of speakers expected in the audio (leave empty for automatic detection)."})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.min_speakers||"",onChange:n=>u("min_speakers",n.target.value?parseInt(n.target.value):void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"canary_max_speakers",className:"text-gray-700 dark:text-gray-300",children:"Max Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Maximum number of speakers expected in the audio (leave empty for automatic detection)."})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.max_speakers||"",onChange:n=>u("max_speakers",n.target.value?parseInt(n.target.value):void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"canary_diarize_model",className:"text-gray-700 dark:text-gray-300",children:"Diarization Model"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.diarize_model})})]})]}),e.jsxs(K,{value:i.diarize_model,onValueChange:n=>u("diarize_model",n),children:[e.jsx(Y,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"pyannote",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Pyannote (Recommended) - Requires HF Token"}),e.jsx(F,{value:"nvidia_sortformer",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"NVIDIA Sortformer - 4 Speakers Max, No Token"})]})]})]}),i.diarize_model==="pyannote"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"canary_hf_token",className:"text-gray-700 dark:text-gray-300",children:"Hugging Face Token"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hugging Face API token required for accessing Pyannote diarization models. Get one at https://huggingface.co/settings/tokens"})})]})]}),e.jsx(U,{type:"password",placeholder:"Required for Pyannote diarization models",value:i.hf_token||"",onChange:n=>u("hf_token",n.target.value||void 0),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),i.diarize_model==="nvidia_sortformer"&&e.jsx("div",{className:"p-4 border border-orange-200 dark:border-orange-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-orange-500 dark:text-orange-400 mt-0.5",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 mb-1",children:"NVIDIA Sortformer Limitations"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"This model is optimized for up to 4 speakers. Beyond 4 speakers accuracy might degrade."})]})]})})]})]})]}):e.jsxs(vt,{defaultValue:"basic",className:"w-full",children:[e.jsxs(jt,{className:`grid w-full items-center h-auto bg-gray-100 dark:bg-gray-800 p-1 rounded-lg ${x?"grid-cols-3":"grid-cols-4"}`,children:[e.jsx(oe,{value:"basic",className:"h-9 py-1.5 data-[state=active]:bg-white data-[state=active]:dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs sm:text-sm",children:"Basic"}),e.jsx(oe,{value:"quality",className:"h-9 py-1.5 data-[state=active]:bg-white data-[state=active]:dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs sm:text-sm",children:"Quality"}),e.jsx(oe,{value:"advanced",className:"h-9 py-1.5 data-[state=active]:bg-white data-[state=active]:dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs sm:text-sm",children:"Advanced"}),!x&&e.jsx(oe,{value:"diarization",className:"h-9 py-1.5 data-[state=active]:bg-white data-[state=active]:dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs sm:text-sm",children:"Diarization"})]}),e.jsx(de,{value:"basic",className:"space-y-6 sm:space-y-8 mt-4 sm:mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[x&&e.jsxs("div",{className:"p-4 border border-blue-200 dark:border-blue-700 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Multi-track audio detected"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Multi-track transcription is automatically enabled. Diarization is disabled as each track represents a single speaker."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"model",className:"text-gray-700 dark:text-gray-300",children:"Model Size"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.model})})]})]}),e.jsxs(K,{value:i.model,onValueChange:n=>u("model",n),children:[e.jsx(Y,{className:"mt-3 w-full min-w-0 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsx(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:rs.map(n=>e.jsx(F,{value:n,className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:n},n))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"language",className:"text-gray-700 dark:text-gray-300",children:"Language"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.language})})]})]}),e.jsxs(K,{value:i.language||"auto",onValueChange:n=>u("language",n==="auto"?void 0:n),children:[e.jsx(Y,{className:"mt-3 w-full min-w-0 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsx(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 max-h-60",children:ts.map(n=>e.jsx(F,{value:n.value,className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:n.label},n.value))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"task",className:"text-gray-700 dark:text-gray-300",children:"Task"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.task})})]})]}),e.jsxs(K,{value:i.task,onValueChange:n=>u("task",n),children:[e.jsx(Y,{className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"transcribe",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Transcribe"}),e.jsx(F,{value:"translate",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Translate to English"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"device",className:"text-gray-700 dark:text-gray-300",children:"Device"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.device})})]})]}),e.jsxs(K,{value:i.device,onValueChange:n=>u("device",n),children:[e.jsx(Y,{className:"mt-3 w-full min-w-0 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"cpu",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"CPU"}),e.jsx(F,{value:"cuda",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"GPU (CUDA)"}),e.jsx(F,{value:"mps",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"GPU (MPS)"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"compute_type",className:"text-gray-700 dark:text-gray-300",children:"Compute Type"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.compute_type})})]})]}),e.jsxs(K,{value:i.compute_type,onValueChange:n=>u("compute_type",n),children:[e.jsx(Y,{className:"mt-3 w-full min-w-0 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"float16",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Float16 (Faster)"}),e.jsx(F,{value:"float32",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Float32 (More Accurate)"}),e.jsx(F,{value:"int8",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Int8 (Fastest)"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"batch_size",className:"text-gray-700 dark:text-gray-300",children:["Batch Size: ",i.batch_size]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.batch_size})})]})]})}),e.jsx(H,{value:[i.batch_size],onValueChange:([n])=>u("batch_size",n),min:1,max:32,step:1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"threads",className:"text-gray-700 dark:text-gray-300",children:["Threads: ",i.threads]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Number of threads used by torch for CPU inference. 0 means auto-detect."})})]})]})}),e.jsx(H,{value:[i.threads],onValueChange:([n])=>u("threads",n),min:0,max:16,step:1,className:"mt-3"})]})]})]})}),e.jsxs(de,{value:"quality",className:"space-y-6 sm:space-y-8 mt-4 sm:mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"temperature",className:"text-gray-700 dark:text-gray-300",children:["Temperature: ",i.temperature]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.temperature})})]})]})}),e.jsx(H,{value:[i.temperature],onValueChange:([n])=>u("temperature",n),min:0,max:1,step:.1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"beam_size",className:"text-gray-700 dark:text-gray-300",children:["Beam Size: ",i.beam_size]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.beam_size})})]})]})}),e.jsx(H,{value:[i.beam_size],onValueChange:([n])=>u("beam_size",n),min:1,max:20,step:1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"best_of",className:"text-gray-700 dark:text-gray-300",children:["Best Of: ",i.best_of]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.best_of})})]})]})}),e.jsx(H,{value:[i.best_of],onValueChange:([n])=>u("best_of",n),min:1,max:20,step:1,className:"mt-3"})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"patience",className:"text-gray-700 dark:text-gray-300",children:["Patience: ",i.patience]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.patience})})]})]})}),e.jsx(H,{value:[i.patience],onValueChange:([n])=>u("patience",n),min:.1,max:3,step:.1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"length_penalty",className:"text-gray-700 dark:text-gray-300",children:["Length Penalty: ",i.length_penalty]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.length_penalty})})]})]})}),e.jsx(H,{value:[i.length_penalty],onValueChange:([n])=>u("length_penalty",n),min:.1,max:3,step:.1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"initial_prompt",className:"text-gray-700 dark:text-gray-300",children:"Initial Prompt"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.initial_prompt})})]})]}),e.jsx(We,{placeholder:"Optional text to provide as context for the first window",value:i.initial_prompt||"",onChange:n=>u("initial_prompt",n.target.value||void 0),rows:3,className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400"})]})]})]}),e.jsx(Ce,{className:"bg-gray-200 dark:bg-gray-700 my-6 sm:my-8"}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"suppress_numerals",checked:i.suppress_numerals,onCheckedChange:n=>u("suppress_numerals",n)}),e.jsx(b,{htmlFor:"suppress_numerals",className:"text-gray-700 dark:text-gray-300",children:"Suppress Numerals"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.suppress_numerals})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"condition_on_previous_text",checked:i.condition_on_previous_text,onCheckedChange:n=>u("condition_on_previous_text",n)}),e.jsx(b,{htmlFor:"condition_on_previous_text",className:"text-gray-700 dark:text-gray-300",children:"Condition on Previous Text"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.condition_on_previous_text})})]})]})]})]}),e.jsxs(de,{value:"advanced",className:"space-y-6 sm:space-y-8 mt-4 sm:mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"VAD Settings"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"vad_method",className:"text-gray-700 dark:text-gray-300",children:"VAD Method"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.vad_method})})]})]}),e.jsxs(K,{value:i.vad_method,onValueChange:n=>u("vad_method",n),children:[e.jsx(Y,{className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"pyannote",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Pyannote"}),e.jsx(F,{value:"silero",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Silero"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"vad_onset",className:"text-gray-700 dark:text-gray-300",children:["VAD Onset: ",i.vad_onset]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.vad_onset})})]})]})}),e.jsx(H,{value:[i.vad_onset],onValueChange:([n])=>u("vad_onset",n),min:.1,max:1,step:.01,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"vad_offset",className:"text-gray-700 dark:text-gray-300",children:["VAD Offset: ",i.vad_offset]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.vad_offset})})]})]})}),e.jsx(H,{value:[i.vad_offset],onValueChange:([n])=>u("vad_offset",n),min:.1,max:1,step:.01,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"chunk_size",className:"text-gray-700 dark:text-gray-300",children:["Chunk Size: ",i.chunk_size]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.chunk_size})})]})]})}),e.jsx(H,{value:[i.chunk_size],onValueChange:([n])=>u("chunk_size",n),min:5,max:60,step:1,className:"mt-3"})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("h4",{className:"font-medium",children:"Detection Thresholds"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"compression_ratio_threshold",className:"text-gray-700 dark:text-gray-300",children:["Compression Ratio: ",i.compression_ratio_threshold]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.compression_ratio_threshold})})]})]})}),e.jsx(H,{value:[i.compression_ratio_threshold],onValueChange:([n])=>u("compression_ratio_threshold",n),min:1,max:5,step:.1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"logprob_threshold",className:"text-gray-700 dark:text-gray-300",children:["Log Probability: ",i.logprob_threshold]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.logprob_threshold})})]})]})}),e.jsx(H,{value:[i.logprob_threshold],onValueChange:([n])=>u("logprob_threshold",n),min:-3,max:0,step:.1,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{htmlFor:"no_speech_threshold",className:"text-gray-700 dark:text-gray-300",children:["No Speech: ",i.no_speech_threshold]}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.no_speech_threshold})})]})]})}),e.jsx(H,{value:[i.no_speech_threshold],onValueChange:([n])=>u("no_speech_threshold",n),min:.1,max:1,step:.01,className:"mt-3"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"suppress_tokens",className:"text-gray-700 dark:text-gray-300",children:"Suppress Tokens"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.suppress_tokens})})]})]}),e.jsx(U,{placeholder:"-1 (default: suppress special characters)",value:i.suppress_tokens||"",onChange:n=>u("suppress_tokens",n.target.value||void 0),className:"mt-3"})]})]})]}),e.jsx(Ce,{className:"my-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"no_align",checked:i.no_align,onCheckedChange:n=>u("no_align",n)}),e.jsx(b,{htmlFor:"no_align",className:"text-gray-700 dark:text-gray-300",children:"Disable Alignment"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.no_align})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"return_char_alignments",checked:i.return_char_alignments,onCheckedChange:n=>u("return_char_alignments",n)}),e.jsx(b,{htmlFor:"return_char_alignments",className:"text-gray-700 dark:text-gray-300",children:"Character-level Alignments"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.return_char_alignments})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{id:"fp16",checked:i.fp16,onCheckedChange:n=>u("fp16",n)}),e.jsx(b,{htmlFor:"fp16",className:"text-gray-700 dark:text-gray-300",children:"FP16 Inference"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.fp16})})]})]})]})]}),!x&&e.jsx(de,{value:"diarization",className:"space-y-6 sm:space-y-8 mt-4 sm:mt-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(re,{id:"diarize",checked:i.diarize,onCheckedChange:n=>u("diarize",n),disabled:i.is_multi_track_enabled}),e.jsx(b,{htmlFor:"diarize",className:"text-gray-700 dark:text-gray-300",children:"Enable Speaker Diarization"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.diarize})})]})]}),i.diarize&&e.jsxs("div",{className:"p-4 sm:p-6 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"diarize_model",className:"text-gray-700 dark:text-gray-300",children:"Diarization Model"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.diarize_model})})]})]}),e.jsxs(K,{value:i.diarize_model,onValueChange:n=>u("diarize_model",n),children:[e.jsx(Y,{className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:e.jsx(G,{})}),e.jsxs(J,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{value:"pyannote",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"Pyannote (Recommended) - Requires HF Token"}),e.jsx(F,{value:"nvidia_sortformer",className:"text-gray-900 dark:text-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700",children:"NVIDIA Sortformer - 4 Speakers Max, No Token"})]})]})]}),i.diarize_model==="pyannote"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"min_speakers",className:"text-gray-700 dark:text-gray-300",children:"Min Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.min_speakers})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.min_speakers||"",onChange:n=>u("min_speakers",n.target.value?parseInt(n.target.value):void 0),className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"max_speakers",className:"text-gray-700 dark:text-gray-300",children:"Max Speakers"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-64 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.max_speakers})})]})]}),e.jsx(U,{type:"number",min:"1",max:"20",placeholder:"Auto-detect",value:i.max_speakers||"",onChange:n=>u("max_speakers",n.target.value?parseInt(n.target.value):void 0),className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]})]}),e.jsx(Ce,{className:"my-4 sm:my-6"}),i.diarize_model==="pyannote"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{htmlFor:"hf_token",className:"text-gray-700 dark:text-gray-300",children:"Hugging Face Token"}),e.jsxs(N,{children:[e.jsx(w,{asChild:!0,children:e.jsx(k,{className:"h-4 w-4 text-gray-400 cursor-help"})}),e.jsx(_,{className:"w-80 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:P.hf_token})})]})]}),e.jsx(U,{type:"password",placeholder:"Required for Pyannote diarization models",value:i.hf_token||"",onChange:n=>u("hf_token",n.target.value||void 0),className:"mt-3 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"})]}),i.diarize_model==="nvidia_sortformer"&&e.jsx("div",{className:"p-4 border border-orange-200 dark:border-orange-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-orange-500 dark:text-orange-400 mt-0.5",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 mb-1",children:"NVIDIA Sortformer Limitations"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"This model is optimized for up to 4 speakers. Beyond 4 speakers accuracy might degrade."})]})]})})]})]})})]}),e.jsxs(wr,{className:"gap-2 border-t border-gray-200 dark:border-gray-700 pt-3 sm:pt-6 mt-4 sm:mt-8",children:[e.jsx(O,{variant:"outline",onClick:()=>t(!1),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:"Cancel"}),e.jsx(O,{onClick:D,disabled:l||o&&!y.trim(),className:"bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800 text-white cursor-pointer disabled:cursor-not-allowed",children:l?o?"Saving...":"Starting...":o?"Save Profile":"Start Transcription"})]})]})})});export{bs as A,ps as H,Ce as S,As as T,vs as a,js as b,Ns as c,ws as d,ks as e,Cs as f,_s as g,gs as h,xs as i,us as j,hs as k,fs as l,vt as m,jt as n,oe as o,ms as p,de as q,Kr as v};
